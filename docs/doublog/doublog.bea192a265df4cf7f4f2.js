new class{constructor(t){this.el=t.el,this.text=this.el.innerHTML,this.textCount=t.textCount,this.findAllButtonText=t.findAllButtonText||"查看全部",this.ellpisisButtonText=t.ellpisisButtonText||"收起",this.showFindAllButton=t.showFindAllButton||!1,this.flag=!0}get buttonText(){return this.flag?this.findAllButtonText:this.ellpisisButtonText}exec(){if(!this.text)throw new Errow("截取的文本内容不能为空");this.el.innerHTML=this.subArticle(this.text,this.textCount),this.showFindAllButton&&this.addButton()}addButton(){var t=document.createElement("a");t.textContent=this.findAllButtonText,t.style.cssText="\n        color:blue;\n        cursor:pointer;\n      ";var e=this;t.addEventListener("click",(function(){e.flag=!e.flag,this.textContent=e.buttonText,e.el.childNodes[0].textContent=e.flag?e.subArticle(e.text,e.textCount):e.text})),this.el.appendChild(t,this.el.childNodes[0])}subArticle(t,e){return t.length<e?t:t.substring(0,e)+"..."}}({el:document.querySelector(".list"),textCount:100,findAllButtonText:"查看所有",showFindAllButton:!0}).exec(),document.querySelector("h2").onclick=function(){console.log(this.dataset.id),window.location.href=`details.html?id=${this.dataset.id}`};